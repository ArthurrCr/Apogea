/* ======================
   BLACKHOLE TRANSITION - MP4 SIMPLE VERSION
   ====================== */

/* Container principal */
.blackhole-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1; /* BEM BAIXO - apenas acima do background */
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    /* REMOVIDO O BACKGROUND ESCURO QUE COBRIA TUDO */
    transition: opacity 0.5s ease;
    /* backdrop-filter: blur(2px); REMOVIDO */
}

.blackhole-container.active {
    opacity: 1;
    visibility: visible;
    pointer-events: none; /* Mantém none para não bloquear cliques */
}

/* Wrapper do buraco negro - TAMANHO REDUZIDO */
.blackhole-wrapper {
    position: relative;
    width: 400px;  /* Reduzido de 600px */
    height: 400px; /* Reduzido de 600px */
    transform: scale(0);
    transition: transform 1.5s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Adiciona uma sombra escura APENAS ao redor do vídeo */
.blackhole-wrapper::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 150%;
    height: 150%;
    background: radial-gradient(circle at center,
        transparent 30%,
        rgba(0, 0, 0, 0.3) 50%,
        rgba(0, 0, 0, 0.7) 70%,
        rgba(0, 0, 0, 0.9) 100%);
    z-index: -2;
    pointer-events: none;
}

.blackhole-container.active .blackhole-wrapper {
    transform: scale(1); /* Removido rotate - só escala */
}

/* Vídeo do buraco negro */
.blackhole-video {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 50%;
    /* Sem brilho roxo, apenas vídeo limpo */
}

/* Estado de colapso - mais dramático */
.blackhole-container.collapsing .blackhole-wrapper {
    transform: scale(1.5); /* Removido rotate */
    transition: all 0.5s ease-in;
}

.blackhole-container.collapsing .blackhole-video {
    /* Sem filtros de brilho, apenas o vídeo puro */
}

/* Distorção das estrelas */
.stars-container.space-warping {
    animation: spaceDistortion 2s ease-in-out forwards;
}

.stars-container.space-warping .star {
    animation: starWarp 1.5s ease-in forwards;
}

/* Flash da singularidade */
.singularity-flash {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white; /* Apenas flash branco, sem roxo */
    z-index: 10001;
    opacity: 0;
    pointer-events: none;
    animation: flashBurst 0.4s ease-out forwards;
}

/* CORREÇÃO: Elementos sendo sugados ficam acima do buraco negro */
.main-content > * {
    transform-origin: center;
    will-change: transform, opacity, filter;
    position: relative !important;
    z-index: 9999 !important; /* Força elementos ACIMA do buraco negro */
}

/* Força elementos específicos da página a ficarem acima */
.stats-header,
.stats-container,
.stats-table,
.level-container,
.points-display,
.class-selector-container,
.traits-container {
    position: relative !important;
    z-index: 9999 !important;
}

/* Garante que a tabela e seus elementos filhos fiquem visíveis */
.stats-container * {
    position: relative;
    z-index: 9999 !important;
}

/* Animações */
@keyframes spaceDistortion {
    0% {
        transform: scale(1) rotate(0deg);
        filter: blur(0px);
    }
    100% {
        transform: scale(0.95) rotate(5deg);
        filter: blur(1px);
    }
}

@keyframes starWarp {
    0% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
    }
    100% {
        transform: scale(0);
        opacity: 0;
    }
}

@keyframes flashBurst {
    0% {
        opacity: 0;
        transform: scale(0.8);
    }
    50% {
        opacity: 0.8;
        transform: scale(1);
    }
    100% {
        opacity: 0;
        transform: scale(1.2);
    }
}

/* Mobile responsivo - tamanhos ainda menores */
@media (max-width: 768px) {
    .blackhole-wrapper {
        width: 300px;
        height: 300px;
    }
}

@media (max-width: 480px) {
    .blackhole-wrapper {
        width: 250px;
        height: 250px;
    }
    
    .blackhole-video {
        /* Sem filtros, vídeo limpo */
    }
}

/* Otimizações de performance */
.blackhole-video {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    transform: translateZ(0);
}